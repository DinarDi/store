(this.webpackJsonpstore_ui=this.webpackJsonpstore_ui||[]).push([[0],{137:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"setAuth",(function(){return re})),n.d(r,"setUser",(function(){return ae})),n.d(r,"setUserCart",(function(){return ce})),n.d(r,"setLoading",(function(){return ie})),n.d(r,"setUserError",(function(){return oe})),n.d(r,"checkAndFetchCart",(function(){return ue})),n.d(r,"login",(function(){return se})),n.d(r,"registration",(function(){return le})),n.d(r,"exit",(function(){return de})),n.d(r,"addDevice",(function(){return pe})),n.d(r,"removeDevice",(function(){return je}));var a={};n.r(a),n.d(a,"setTypes",(function(){return ve})),n.d(a,"setSelectedType",(function(){return me})),n.d(a,"fetchTypes",(function(){return ge})),n.d(a,"createType",(function(){return ye})),n.d(a,"updateType",(function(){return Se})),n.d(a,"deleteType",(function(){return we}));var c={};n.r(c),n.d(c,"setBrands",(function(){return De})),n.d(c,"setSelectedBrand",(function(){return Ie})),n.d(c,"fetchBrands",(function(){return Re})),n.d(c,"createBrand",(function(){return Ae})),n.d(c,"updateBrand",(function(){return Me})),n.d(c,"deleteBrand",(function(){return We}));var i={};n.r(i),n.d(i,"setDevices",(function(){return Le})),n.d(i,"setCurrentPage",(function(){return Ge})),n.d(i,"setDevice",(function(){return ze})),n.d(i,"setOneDevice",(function(){return Ye})),n.d(i,"updateOneDevice",(function(){return He})),n.d(i,"deleteDevice",(function(){return Je})),n.d(i,"fetchDevices",(function(){return Ze}));var o=n(0),u=n.n(o),s=n(39),l=n.n(s),d=(n(137),n(250)),p=n(242),j=n(243),b=n(232),f=n(89),x=n(240),h=n(251),O=n(34),v=n(62),m=v.c,g="/admin",y="/login",S="/registration",w="/",E="/device",C=n(20),k=n(214),T=n(9),_=n.n(T),D=n(16),I=n(10),R=n(117),A=n.n(R),M=n(238),W=n(231),B=n(239),U=n(234),V=n(236),F=n(237),N=n(116),P=n.n(N),L=n(52),G=n(15),z=n(97),Y=n.n(z),H=Y.a.create({baseURL:"https://serverstore.herokuapp.com/"}),J=Y.a.create({baseURL:"https://serverstore.herokuapp.com/"});J.interceptors.request.use((function(e){return e.headers={authorization:"Bearer ".concat(localStorage.getItem("token"))},e}));var Z,q=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("api/cartdevice",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("api/cartdevice/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=n(86),Q=function(){var e=Object(D.a)(_.a.mark((function e(t,n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("api/user/registration",{email:t,password:n});case 2:return r=e.sent,a=r.data,localStorage.setItem("token",a.token),e.abrupt("return",Object(K.a)(a.token));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(D.a)(_.a.mark((function e(t,n){var r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post("api/user/login",{email:t,password:n});case 2:return r=e.sent,a=r.data,localStorage.setItem("token",a.token),e.abrupt("return",Object(K.a)(a.token));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(D.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("api/user/auth");case 2:return t=e.sent,n=t.data,localStorage.setItem("token",n.token),e.abrupt("return",Object(K.a)(n.token));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("api/cart/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.SET_AUTH="SET_AUTH",e.SET_USER="SET_USER",e.SET_LOADING="SET_LOADING",e.SET_USER_CART="SET_USER_CART",e.SET_USER_ERROR="SET_USER_ERROR"}(Z||(Z={}));var ne,re=function(e){return{type:Z.SET_AUTH,payload:e}},ae=function(e){return{type:Z.SET_USER,payload:e}},ce=function(e){return{type:Z.SET_USER_CART,payload:e}},ie=function(e){return{type:Z.SET_LOADING,payload:e}},oe=function(e){return{type:Z.SET_USER_ERROR,payload:e}},ue=function(){return function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ie(!0)),e.next=4,ee();case 4:return n=e.sent,t(ae(n)),t(re(!0)),e.next=9,te(n.id);case 9:r=e.sent,t(ce(r)),t(ie(!1)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t(ie(!1));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},se=function(e,t){return function(){var n=Object(D.a)(_.a.mark((function n(r){var a,c,i,o;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(re(!1)),r(oe("")),n.next=5,X(e,t);case 5:return a=n.sent,n.next=8,te(a.id);case 8:c=n.sent,r(ae(a)),r(ce(c)),r(re(!0)),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),o=n.t0,r(oe(null===(i=o.response)||void 0===i?void 0:i.data.message));case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},le=function(e,t){return function(){var n=Object(D.a)(_.a.mark((function n(r){var a,c,i,o;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(re(!1)),r(oe("")),n.next=5,Q(e,t);case 5:return a=n.sent,n.next=8,te(a.id);case 8:c=n.sent,r(ae(a)),r(ce(c)),r(re(!0)),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(0),o=n.t0,r(oe(null===(i=o.response)||void 0===i?void 0:i.data.message));case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},de=function(){return function(){var e=Object(D.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(ae({})),t(re(!1))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pe=function(e,t){return function(){var n=Object(D.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(e);case 2:return n.next=4,te(t);case 4:a=n.sent,r(ce(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},je=function(e,t){return function(){var n=Object(D.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$(e);case 2:return n.next=4,te(t);case 4:a=n.sent,r(ce(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},be=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("api/type",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(D.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("api/type");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("api/type",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("api/type/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.SET_TYPES="SET_TYPES",e.SET_SELECTED_TYPE="SET_SELECTED_TYPE"}(ne||(ne={}));var Oe,ve=function(e){return{type:ne.SET_TYPES,payload:e}},me=function(e){return{type:ne.SET_SELECTED_TYPE,payload:e}},ge=function(){return function(){var e=Object(D.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:n=e.sent,t(ve(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be({name:e});case 3:return t.next=5,fe();case 5:r=t.sent,n(ve(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe(e);case 3:return t.next=5,fe();case 5:r=t.sent,n(ve(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he(e);case 3:return t.next=5,fe();case 5:r=t.sent,n(ve(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){var e=Object(D.a)(_.a.mark((function e(){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("api/brand");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("api/brand",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("api/brand",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("api/brand/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.SET_BRANDS="SET_BRANDS",e.SET_SELECTED_BRAND="SET_SELECTED_BRAND"}(Oe||(Oe={}));var _e,De=function(e){return{type:Oe.SET_BRANDS,payload:e}},Ie=function(e){return{type:Oe.SET_SELECTED_BRAND,payload:e}},Re=function(){return function(){var e=Object(D.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:n=e.sent,t(De(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce({name:e});case 3:return t.next=5,Ee();case 5:r=t.sent,n(De(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(e);case 3:return t.next=5,Ee();case 5:r=t.sent,n(De(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},We=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Te(e);case 3:return t.next=5,Ee();case 5:r=t.sent,n(De(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Be=function(){var e=Object(D.a)(_.a.mark((function e(t,n){var r,a,c,i,o=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:1,a=o.length>3&&void 0!==o[3]?o[3]:3,e.next=4,H.get("api/device",{params:{typeId:t,brandId:n,page:r,limit:a}});case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("api/device/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("api/device",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("api/device",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("api/device/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(D.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("api/device/info/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.SET_DEVICES="SET_DEVICES",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_DEVICE="SET_DEVICE"}(_e||(_e={}));var Le=function(e){return{type:_e.SET_DEVICES,payload:e}},Ge=function(e){return{type:_e.SET_CURRENT_PAGE,payload:e}},ze=function(e){return{type:_e.SET_DEVICE,payload:e}},Ye=function(e){return function(){var t=Object(D.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ue(e);case 2:r=t.sent,n(ze(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},He=function(e,t){return function(){var n=Object(D.a)(_.a.mark((function n(r){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fe(e);case 2:return n.next=4,Ue(t);case 4:a=n.sent,r(ze(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Je=function(e,t,n,r,a){return function(){var c=Object(D.a)(_.a.mark((function c(i){var o;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ne(e);case 2:return c.next=4,Be(t,n,r,a);case 4:o=c.sent,i(Le(o));case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},Ze=function(e,t,n,r){return function(){var a=Object(D.a)(_.a.mark((function a(c){var i;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Be(e,t,n,r);case 2:i=a.sent,c(Le(i));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},qe=Object(G.a)(Object(G.a)(Object(G.a)(Object(G.a)({},r),a),c),i),$e=function(){var e=Object(v.b)();return Object(L.b)(qe,e)},Ke=n(1),Qe=function(e){var t=e.item,n=t.id,r=t.name,a=t.price,c=t.img,i=$e().removeDevice,o=m((function(e){return e.user})),u=o.user,s=o.userCart.cartItems.filter((function(e){return e.deviceId===n}));return Object(Ke.jsxs)(U.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",mt:"15px"},children:[Object(Ke.jsx)(V.a,{component:"img",image:"https://serverstore.herokuapp.com/"+c,alt:"Device",sx:{width:"70px",height:"70px",ml:"10px",objectFit:"contain"}}),Object(Ke.jsxs)(F.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},children:[Object(Ke.jsxs)(h.a,{component:"div",children:[Object(Ke.jsx)(f.a,{variant:"body1",component:"div",children:r}),Object(Ke.jsxs)(f.a,{variant:"subtitle1",component:"div",children:[a," \u0440\u0443\u0431."]})]}),Object(Ke.jsx)(M.a,{size:"large","aria-label":"delete cart item","aria-controls":"cart","aria-haspopup":"true",onClick:function(){i(s[0].id,u.id)},color:"inherit",children:Object(Ke.jsx)(P.a,{})})]})]})},Xe=function(){var e=m((function(e){return e.user})).userCart,t=Object(o.useState)(!1),n=Object(I.a)(t,2),r=n[0],a=n[1],c=Object(o.useState)([]),i=Object(I.a)(c,2),u=i[0],s=i[1],l=u.reduce((function(e,t){return t.price+e}),0);return Object(o.useEffect)((function(){var t=function(){var t=Object(D.a)(_.a.mark((function t(){var n,r,a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=0;case 2:if(!(r<e.cartItems.length)){t.next=11;break}return a=e.cartItems[r],t.next=6,Ue("".concat(a.deviceId));case 6:c=t.sent,n.push(c);case 8:r++,t.next=2;break;case 11:s(n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(M.a,{size:"large","aria-label":"drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return a(!0)},color:"inherit",children:Object(Ke.jsx)(A.a,{})}),Object(Ke.jsx)(W.a,{anchor:"right",open:r,onClose:function(){return a(!1)},children:Object(Ke.jsxs)(B.a,{sx:{width:"385px",display:"flex",flexDirection:"column",height:"100%"},children:[Object(Ke.jsx)(f.a,{variant:"h3",component:"h3",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),0!==u.length?Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(h.a,{component:"div",sx:{flex:1},children:u.map((function(e){return Object(Ke.jsx)(Qe,{item:e},e.id)}))}),Object(Ke.jsxs)(h.a,{component:"div",sx:{mb:"15px"},children:[Object(Ke.jsxs)(k.a,{direction:"row",justifyContent:"space-between",children:[Object(Ke.jsx)(f.a,{variant:"body1",children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(Ke.jsxs)(f.a,{variant:"subtitle1",children:[l," \u0440\u0443\u0431."]})]}),Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]}):Object(Ke.jsxs)(k.a,{direction:"column",alignItems:"center",justifyContent:"center",flex:"1",children:[Object(Ke.jsx)(f.a,{variant:"h4",component:"h4",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(Ke.jsx)(f.a,{variant:"subtitle1",component:"p",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430"})]})]})})]})},et=n(215),tt=n(120),nt=n(227),rt=function(){var e=Object(o.useState)(null),t=Object(I.a)(e,2),n=t[0],r=t[1],a=m((function(e){return e.user})).user,c=$e().exit,i=Object(C.g)();return Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(M.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(Ke.jsx)(et.a,{})}),Object(Ke.jsxs)(tt.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(n),onClose:function(){return r(null)},children:["ADMIN"===a.role?Object(Ke.jsx)(nt.a,{onClick:function(){i.push(g),r(null)},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}):null,Object(Ke.jsx)(nt.a,{onClick:function(){localStorage.removeItem("token"),c(),r(null),i.push(y)},children:"\u0412\u044b\u0439\u0442\u0438"})]})]})},at=function(){return Object(Ke.jsxs)(k.a,{direction:"row",children:[Object(Ke.jsx)(rt,{}),Object(Ke.jsx)(Xe,{})]})},ct=function(){var e=m((function(e){return e.user})).isAuth,t=Object(C.g)();return Object(Ke.jsx)(h.a,{sx:{flexGrow:1},children:Object(Ke.jsx)(p.a,{position:"static",children:Object(Ke.jsx)(j.a,{children:Object(Ke.jsxs)(b.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Ke.jsx)(b.a,{item:!0,children:Object(Ke.jsx)(O.b,{to:w,style:{textDecoration:"none"},children:Object(Ke.jsx)(f.a,{variant:"h6",component:"div",color:"white",children:"Shop"})})}),Object(Ke.jsx)(b.a,{item:!0,children:e?Object(Ke.jsx)(at,{}):Object(Ke.jsx)(x.a,{color:"inherit",onClick:function(){return t.push(y)},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})})})})},it=n(218),ot=n(225),ut=n(247),st=n(248),lt=n(220),dt=n(228),pt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3},jt={position:"relative",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3},bt=function(e){var t=e.openModal,n=e.handleCloseModal,r=Object(o.useState)(""),a=Object(I.a)(r,2),c=a[0],i=a[1],u=$e().createBrand;return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u(c),i("")},children:[Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",fullWidth:!0,sx:{mb:"10px"},value:c,onChange:function(e){return i(e.target.value)}}),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"})]})})})},ft=n(3),xt=n(17),ht=function(e){var t=e.info,n=e.removeFunction,r=e.changeValueFunction,a=t.id,c=t.title,i=t.description;return Object(Ke.jsxs)(b.a,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},alignItems:"center",sx:{mb:"10px"},children:[Object(Ke.jsx)(b.a,{item:!0,xs:2,sm:4,md:4,children:Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438",fullWidth:!0,value:c,onChange:function(e){return r("title",e.target.value,a)}})}),Object(Ke.jsx)(b.a,{item:!0,xs:2,sm:4,md:4,children:Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438",fullWidth:!0,value:i,onChange:function(e){return r("description",e.target.value,a)}})}),Object(Ke.jsx)(b.a,{item:!0,xs:2,sm:4,md:4,children:Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,onClick:function(){return n(a)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0443"})})]})},Ot=n(246),vt=n(229),mt=n(224),gt=function(e){var t=e.items,n=e.name,r=e.selectValue,a=e.changeSelectFunction;return Object(Ke.jsxs)(Ot.a,{fullWidth:!0,sx:{mb:"10px"},children:[Object(Ke.jsxs)(vt.a,{id:"demo-simple-select-label",children:[n," \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"]}),Object(Ke.jsx)(mt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"".concat(n," \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),value:r,onChange:function(e){a(e.target.value)},children:t.map((function(e){return Object(Ke.jsx)(nt.a,{value:e.id,children:e.name},e.id)}))})]})},yt=function(e){var t=e.openModal,n=e.handleCloseModal,r=m((function(e){return e.types})).types,a=m((function(e){return e.brands})).brands,c=Object(o.useState)([]),i=Object(I.a)(c,2),u=i[0],s=i[1],l=Object(o.useState)(""),d=Object(I.a)(l,2),p=d[0],j=d[1],b=Object(o.useState)(""),f=Object(I.a)(b,2),h=f[0],O=f[1],v=Object(o.useState)(""),g=Object(I.a)(v,2),y=g[0],S=g[1],w=Object(o.useState)(""),E=Object(I.a)(w,2),C=E[0],k=E[1],T=Object(o.useState)(""),_=Object(I.a)(T,2),D=_[0],R=_[1],A=function(e,t,n){s(u.map((function(r){return r.id===n?Object(G.a)(Object(G.a)({},r),{},Object(ft.a)({},e,t)):r})))},M=function(e){s(u.filter((function(t){return t.id!==e})))};return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",style:{overflow:"scroll"},sx:{position:"absolute"},children:Object(Ke.jsx)(B.a,{maxWidth:"md",sx:Object(G.a)(Object(G.a)({},jt),{},{mt:"55px"}),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",p),t.append("price",h),t.append("img",y),t.append("typeId",C),t.append("brandId",D),t.append("info",JSON.stringify(u)),Ve(t),s([]),j(""),O(""),S(""),k(""),R(""),n()},children:[Object(Ke.jsx)(gt,{items:r,name:"\u0422\u0438\u043f",selectValue:C,changeSelectFunction:function(e){k(e)}}),Object(Ke.jsx)(gt,{items:a,name:"\u0411\u0440\u0435\u043d\u0434",selectValue:D,changeSelectFunction:function(e){R(e)}}),Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",fullWidth:!0,sx:{mb:"10px"},value:p,onChange:function(e){return j(e.target.value)}}),Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",fullWidth:!0,sx:{mb:"10px"},type:"number",value:h,onChange:function(e){return O(e.target.value)}}),Object(Ke.jsx)(dt.a,{fullWidth:!0,sx:{mb:"10px"},type:"file",onChange:function(e){var t;e.target.files&&S(null===(t=e.target.files)||void 0===t?void 0:t[0])}}),Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){s([].concat(Object(xt.a)(u),[{title:"",description:"",id:Date.now()}]))},sx:{mb:"10px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0443"}),u.map((function(e){return Object(Ke.jsx)(ht,{info:e,removeFunction:M,changeValueFunction:A},e.id)})),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"})]})})})},St=function(e){var t=e.openModal,n=e.handleCloseModal,r=$e().createType,a=Object(o.useState)(""),c=Object(I.a)(a,2),i=c[0],u=c[1];return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),r(i),u("")},children:[Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043f",fullWidth:!0,sx:{mb:"10px"},value:i,onChange:function(e){return u(e.target.value)}}),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f"})]})})})},wt=function(){var e=Object(o.useState)(!1),t=Object(I.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),c=Object(I.a)(a,2),i=c[0],u=c[1],s=Object(o.useState)(!1),l=Object(I.a)(s,2),d=l[0],p=l[1];return Object(Ke.jsx)("div",{children:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ut.a,{expandIcon:Object(Ke.jsx)(it.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{bgcolor:"#1976d2"},children:Object(Ke.jsx)(f.a,{component:"div",variant:"h5",color:"white",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),Object(Ke.jsx)(st.a,{children:Object(Ke.jsxs)(k.a,{direction:"row",justifyContent:"space-between",children:[Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){r(!0)},children:"\u0422\u0438\u043f"}),Object(Ke.jsx)(St,{openModal:n,handleCloseModal:function(){r(!1)}}),Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){u(!0)},children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Ke.jsx)(bt,{openModal:i,handleCloseModal:function(){u(!1)}}),Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){p(!0)},children:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"}),Object(Ke.jsx)(yt,{openModal:d,handleCloseModal:function(){p(!1)}})]})})]})})},Et=n(235),Ct=function(e){var t=e.openModal,n=e.handleCloseModal,r=e.item,a=r.id,c=r.name,i=$e(),u=i.updateType,s=i.deleteType,l=Object(o.useState)(""),d=Object(I.a)(l,2),p=d[0],j=d[1];Object(o.useEffect)((function(){j(c)}),[r]);return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u({id:a,name:p}),n()},children:[Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043f",fullWidth:!0,sx:{mb:"10px"},value:p,onChange:function(e){return j(e.target.value)}}),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,sx:{mb:"15px"},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u0438\u043f"}),Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,onClick:function(){s(a),n()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f"})]})})})},kt=function(e){var t=e.openModal,n=e.handleCloseModal,r=m((function(e){return e.types})).types,a=Object(o.useState)({}),c=Object(I.a)(a,2),i=c[0],u=c[1],s=Object(o.useState)(!1),l=Object(I.a)(s,2),d=l[0],p=l[1];return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ut.a,{expandIcon:Object(Ke.jsx)(it.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{bgcolor:"#1976d2"},children:Object(Ke.jsx)(f.a,{component:"div",variant:"h5",color:"white",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"})}),Object(Ke.jsx)(st.a,{children:Object(Ke.jsxs)(k.a,{spacing:2,alignItems:"center",textAlign:"center",children:[r.map((function(e){return Object(Ke.jsx)(Et.a,{elevation:12,sx:{bgcolor:"#1976d2",color:"white",padding:"5px",width:"100%",cursor:"pointer"},onClick:function(){return u(e),void p(!0)},children:e.name},e.id)})),Object(Ke.jsx)(Ct,{openModal:d,handleCloseModal:function(){p(!1)},item:i})]})})]})})})},Tt=function(e){var t=e.openModal,n=e.handleCloseModal,r=e.item,a=r.id,c=r.name,i=Object(o.useState)(""),u=Object(I.a)(i,2),s=u[0],l=u[1],d=$e(),p=d.updateBrand,j=d.deleteBrand;Object(o.useEffect)((function(){l(c)}),[r]);return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),p({id:a,name:s}),n()},children:[Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u0440\u0435\u043d\u0434",fullWidth:!0,sx:{mb:"10px"},value:s,onChange:function(e){return l(e.target.value)}}),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,sx:{mb:"15px"},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"}),Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,onClick:function(){j(a),n()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0440\u0435\u043d\u0434"})]})})})},_t=function(e){var t=e.openModal,n=e.handleCloseModal,r=m((function(e){return e.brands})).brands,a=Object(o.useState)({}),c=Object(I.a)(a,2),i=c[0],u=c[1],s=Object(o.useState)(!1),l=Object(I.a)(s,2),d=l[0],p=l[1];return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(Ke.jsx)(B.a,{maxWidth:"sm",sx:Object(G.a)({},pt),children:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ut.a,{expandIcon:Object(Ke.jsx)(it.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{bgcolor:"#1976d2"},children:Object(Ke.jsx)(f.a,{component:"div",variant:"h5",color:"white",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0440\u0435\u043d\u0434"})}),Object(Ke.jsx)(st.a,{children:Object(Ke.jsxs)(k.a,{spacing:2,alignItems:"center",textAlign:"center",children:[r.map((function(e){return Object(Ke.jsx)(Et.a,{elevation:12,sx:{bgcolor:"#1976d2",color:"white",padding:"5px",width:"100%",cursor:"pointer"},onClick:function(){return u(e),void p(!0)},children:e.name},e.id)})),Object(Ke.jsx)(Tt,{openModal:d,handleCloseModal:function(){p(!1)},item:i})]})})]})})})},Dt=function(){var e=Object(o.useState)(!1),t=Object(I.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),c=Object(I.a)(a,2),i=c[0],u=c[1];return Object(Ke.jsx)(h.a,{sx:{mt:"15px"},children:Object(Ke.jsxs)(ot.a,{children:[Object(Ke.jsx)(ut.a,{expandIcon:Object(Ke.jsx)(it.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{bgcolor:"#1976d2"},children:Object(Ke.jsx)(f.a,{component:"div",variant:"h5",color:"white",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(Ke.jsx)(st.a,{children:Object(Ke.jsxs)(k.a,{direction:"row",spacing:2,children:[Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){return r(!0)},fullWidth:!0,children:"\u0422\u0438\u043f"}),Object(Ke.jsx)(kt,{openModal:n,handleCloseModal:function(){r(!1)}}),Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){return u(!0)},fullWidth:!0,children:"\u0411\u0440\u0435\u043d\u0434"}),Object(Ke.jsx)(_t,{openModal:i,handleCloseModal:function(){u(!1)}})]})})]})})},It=function(){return Object(Ke.jsxs)(B.a,{maxWidth:"xs",sx:{mt:"15px"},children:[Object(Ke.jsx)(wt,{}),Object(Ke.jsx)(Dt,{})]})},Rt=n(226),At=n(223),Mt=function(){var e=$e(),t=e.login,n=e.registration,r=m((function(e){return e.user})),a=r.error,c=r.isAuth,i=Object(C.h)().pathname===y,u=Object(C.g)(),s=Object(o.useState)(""),l=Object(I.a)(s,2),d=l[0],p=l[1],j=Object(o.useState)(""),h=Object(I.a)(j,2),v=h[0],g=h[1],E=Object(o.useState)(!1),k=Object(I.a)(E,2),T=k[0],_=k[1],D=Object(o.useState)(!1),R=Object(I.a)(D,2),A=R[0],M=R[1],W=Object(o.useState)(!1),V=Object(I.a)(W,2),N=V[0],P=V[1];return function(e,t){var n=Object(o.useRef)(!1);Object(o.useEffect)((function(){if(n.current)return e();n.current=!0}),t)}((function(){c?u.push(w):_(!0)}),[c,a]),Object(Ke.jsxs)(B.a,{maxWidth:"xs",style:{height:window.innerHeight-64},sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(Ke.jsx)(U.a,{variant:"outlined",children:Object(Ke.jsxs)(F.a,{children:[Object(Ke.jsx)(f.a,{variant:"h3",sx:{mb:"15px",textAlign:"center"},children:i?"\u0412\u043e\u0439\u0442\u0438":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),i?t(d,v):n(d,v)},children:[Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",fullWidth:!0,error:A,helperText:A?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email":null,sx:{mb:"10px"},value:d,onChange:function(e){return t=e.target.value,p(t),void(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?M(!1):M(!0));var t}}),Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",error:N,helperText:N?"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0438 \u043c\u0435\u043d\u044c\u0448\u0435 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432":null,fullWidth:!0,value:v,onChange:function(e){return t=e.target.value,g(t),void(t.length>3&&t.length<11?P(!1):P(!0));var t}}),Object(Ke.jsxs)(b.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mt:"15px"},children:[Object(Ke.jsx)(b.a,{item:!0,children:i?Object(Ke.jsxs)(f.a,{variant:"subtitle1",children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"," ",Object(Ke.jsx)(O.b,{to:S,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0441\u044f"})]}):Object(Ke.jsxs)(f.a,{variant:"subtitle1",children:["\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? ",Object(Ke.jsx)(O.b,{to:y,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"})]})}),Object(Ke.jsx)(b.a,{item:!0,children:Object(Ke.jsx)(x.a,{variant:"outlined",type:"submit",disabled:!d||!v||!1!==A||!1!==N,children:i?"\u0412\u043e\u0439\u0442\u0438":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})]})]})}),Object(Ke.jsx)(Rt.a,{open:T,autoHideDuration:3e3,onClose:function(){return _(!1)},children:Object(Ke.jsx)(At.a,{severity:"warning",children:a})})]})},Wt=function(e){var t=e.openModal,n=e.handleCloseModal,r=e.item,a=m((function(e){return e.types})),c=a.types,i=a.selectedType,u=m((function(e){return e.brands})),s=u.brands,l=u.selectedBrand,d=m((function(e){return e.devices})),p=d.currentPage,j=d.limit,b=$e(),f=b.updateOneDevice,h=b.deleteDevice,O=Object(o.useState)([]),v=Object(I.a)(O,2),g=v[0],y=v[1],S=Object(o.useState)(""),E=Object(I.a)(S,2),k=E[0],T=E[1],_=Object(o.useState)(""),D=Object(I.a)(_,2),R=D[0],A=D[1],M=Object(o.useState)(""),W=Object(I.a)(M,2),U=W[0],V=W[1],F=Object(o.useState)(""),N=Object(I.a)(F,2),P=N[0],L=N[1],z=Object(o.useState)(""),Y=Object(I.a)(z,2),H=Y[0],J=Y[1],Z=Object(C.g)(),q=r.id,$=r.name,K=r.price,Q=r.img,X=r.typeId,ee=r.brandId,te=r.info;Object(o.useEffect)((function(){y(te),T($),A("".concat(K)),V(Q),L("".concat(X)),J("".concat(ee))}),[r]);var ne=function(e,t,n){y(g.map((function(r){return r.id===n?Object(G.a)(Object(G.a)({},r),{},Object(ft.a)({},e,t)):r})))},re=function(e){te.find((function(t){return t.id===e}))?(Pe(e),y(g.filter((function(t){return t.id!==e})))):y(g.filter((function(t){return t.id!==e})))};return Object(Ke.jsx)(lt.a,{open:t,onClose:n,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",style:{overflow:"scroll"},sx:{position:"absolute"},children:Object(Ke.jsx)(B.a,{maxWidth:"md",sx:Object(G.a)(Object(G.a)({},jt),{},{mt:"55px"}),children:Object(Ke.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("id","".concat(q)),t.append("name",k),t.append("price",R),t.append("img",Q),t.append("newImg",U),t.append("typeId",P),t.append("brandId",H),t.append("info",JSON.stringify(g)),f(t,"".concat(q)),n()},children:[Object(Ke.jsx)(gt,{items:c,name:"\u0422\u0438\u043f",selectValue:P,changeSelectFunction:function(e){L(e)}}),Object(Ke.jsx)(gt,{items:s,name:"\u0411\u0440\u0435\u043d\u0434",selectValue:H,changeSelectFunction:function(e){J(e)}}),Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",fullWidth:!0,sx:{mb:"10px"},value:k,onChange:function(e){return T(e.target.value)}}),Object(Ke.jsx)(dt.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",fullWidth:!0,sx:{mb:"10px"},type:"number",value:R,onChange:function(e){return A(e.target.value)}}),Object(Ke.jsx)(dt.a,{fullWidth:!0,sx:{mb:"10px"},type:"file",onChange:function(e){var t;e.target.files&&V(null===(t=e.target.files)||void 0===t?void 0:t[0])}}),Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){y([].concat(Object(xt.a)(g),[{title:"",description:"",id:Date.now()}]))},sx:{mb:"10px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0443"}),g&&g.map((function(e){return Object(Ke.jsx)(ht,{info:e,removeFunction:re,changeValueFunction:ne},e.id)})),Object(Ke.jsx)(x.a,{type:"submit",variant:"contained",fullWidth:!0,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,sx:{mt:"15px"},onClick:function(){return function(e){h(e,i.id||null,l.id||null,p,j),n(),Z.push(w)}(q)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e"})]})})})},Bt=function(){var e=m((function(e){return e.user})),t=e.user,n=e.userCart,r=e.isAuth,a=m((function(e){return e.devices})).device,c=$e(),i=c.addDevice,u=c.removeDevice,s=c.setOneDevice,l=Object(o.useState)(!1),d=Object(I.a)(l,2),p=d[0],j=d[1],v=Object(C.i)().id,g={};r&&(g=n.cartItems.find((function(e){return e.deviceId===a.id})));return Object(o.useEffect)((function(){s(v)}),[p]),Object(Ke.jsxs)(h.a,{sx:{padding:"20px"},children:[Object(Ke.jsx)(f.a,{variant:"h2",component:"h2",sx:{textAlign:"center",mb:"15px"},children:a.name}),Object(Ke.jsxs)(b.a,{container:!0,gap:3,justifyContent:"space-between",children:[Object(Ke.jsx)(b.a,{item:!0,children:Object(Ke.jsx)("img",{src:"https://serverstore.herokuapp.com/"+a.img,width:"400px",height:"400px",alt:"Device",style:{objectFit:"contain"}})}),Object(Ke.jsxs)(b.a,{item:!0,sx:{maxWidth:"420px",textAlign:"center"},children:[Object(Ke.jsx)(f.a,{variant:"h4",component:"h4",children:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438:"}),a.info&&a.info.map((function(e){return Object(Ke.jsxs)(h.a,{children:[Object(Ke.jsxs)(f.a,{variant:"body1",component:"span",children:[e.title,":"]}),Object(Ke.jsx)(f.a,{variant:"subtitle1",component:"span",children:e.description})]},e.id)}))]}),Object(Ke.jsxs)(b.a,{item:!0,children:[Object(Ke.jsx)(U.a,{variant:"outlined",sx:{border:"1px solid rgba(0, 0, 0, 0.5)"},children:Object(Ke.jsxs)(F.a,{children:[Object(Ke.jsxs)(h.a,{sx:{mb:"15px"},children:[Object(Ke.jsxs)(f.a,{variant:"h5",component:"span",children:["\u0426\u0435\u043d\u0430:"," "]}),Object(Ke.jsxs)(f.a,{variant:"h5",component:"span",children:[a.price," \u0440\u0443\u0431."]})]}),r?g?Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){g&&u(g.id,t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"}):Object(Ke.jsx)(x.a,{variant:"contained",onClick:function(){i({deviceId:a.id,cartId:n.id},t.id)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}):Object(Ke.jsxs)(f.a,{variant:"h6",children:["\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"," ",Object(Ke.jsx)(O.b,{to:y,children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"})]})]})}),"ADMIN"===t.role?Object(Ke.jsxs)(Ke.Fragment,{children:[Object(Ke.jsx)(x.a,{variant:"contained",fullWidth:!0,sx:{mt:"15px"},onClick:function(){return j(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(Ke.jsx)(Wt,{openModal:p,handleCloseModal:function(){j(!1)},item:a})]}):null]})]})]})},Ut=n(241),Vt=n(249),Ft=n(219),Nt=function(){var e=m((function(e){return e.brands})),t=e.brands,n=e.selectedBrand,r=$e().setSelectedBrand;return Object(Ke.jsx)(Ut.a,{component:"nav",sx:{"&& .Mui-selected, && .Mui-selected:hover":{bgcolor:"rgba(25, 118, 210, 0.5)"},"& .MuiListItemButton-root:hover":{bgcolor:"rgba(25, 118, 210, 0.32)"},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap"},children:t.map((function(e){return Object(Ke.jsx)(Vt.a,{selected:e.id===n.id,onClick:function(){return function(e){r(e)}(e)},sx:{maxWidth:"100px",textAlign:"center"},children:Object(Ke.jsx)(Ft.a,{primary:e.name})},e.id)}))})},Pt=function(e){var t=e.device,n=t.id,r=t.name,a=t.price,c=t.img,i=Object(C.g)();return Object(Ke.jsx)(b.a,{item:!0,children:Object(Ke.jsxs)(U.a,{sx:{width:175,cursor:"pointer",padding:"5px"},variant:"outlined",onClick:function(){return i.push(E+"/".concat(n))},children:[Object(Ke.jsx)(V.a,{component:"img",height:"150",image:"https://serverstore.herokuapp.com/"+c,alt:"device",sx:{mt:"15px",objectFit:"contain"}}),Object(Ke.jsxs)(F.a,{children:[Object(Ke.jsx)(f.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(Ke.jsx)(f.a,{variant:"body2",color:"text.secondary",children:"\u0426\u0435\u043d\u0430:"}),Object(Ke.jsxs)(f.a,{variant:"body1",children:[a," \u0440\u0443\u0431."]})]})]})})},Lt=function(){var e=m((function(e){return e.devices})).rows;return Object(Ke.jsx)(b.a,{container:!0,gap:5,sx:{mb:"15px"},children:e.length>0?e.map((function(e){return Object(Ke.jsx)(Pt,{device:e},e.id)})):Object(Ke.jsx)(f.a,{variant:"h3",component:"h3",children:"\u041d\u0435\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})})},Gt=n(221),zt=function(){var e=m((function(e){return e.devices})),t=e.count,n=e.currentPage,r=e.limit,a=$e().setCurrentPage,c=Math.ceil(t/r);return Object(Ke.jsx)(Gt.a,{color:"primary",count:c,page:n,onChange:function(e,t){a(t)},sx:{mb:"15px"}})},Yt=function(){var e=m((function(e){return e.types})),t=e.types,n=e.selectedType,r=$e().setSelectedType;return Object(Ke.jsx)(Ut.a,{component:"nav",sx:{"&& .Mui-selected, && .Mui-selected:hover":{bgcolor:"rgba(25, 118, 210, 0.5)"},"& .MuiListItemButton-root:hover":{bgcolor:"rgba(25, 118, 210, 0.32)"}},children:t.map((function(e){return Object(Ke.jsx)(Vt.a,{selected:e.id===n.id,onClick:function(){return r(e)},children:Object(Ke.jsx)(Ft.a,{primary:e.name})},e.id)}))})},Ht=[{path:g,Component:It}],Jt=[{path:y,Component:Mt},{path:S,Component:Mt},{path:w,Component:function(){var e=$e().fetchDevices,t=m((function(e){return e.devices})),n=t.currentPage,r=t.limit,a=m((function(e){return e.types})).selectedType,c=m((function(e){return e.brands})).selectedBrand;return Object(o.useEffect)((function(){e(a.id,c.id,n,r)}),[a,c,n]),Object(Ke.jsxs)(b.a,{container:!0,gap:3,children:[Object(Ke.jsx)(b.a,{item:!0,children:Object(Ke.jsx)(Yt,{})}),Object(Ke.jsxs)(b.a,{item:!0,xs:10,children:[Object(Ke.jsx)(Nt,{}),Object(Ke.jsx)(Lt,{}),Object(Ke.jsx)(zt,{})]})]})}},{path:"/device/:id",Component:Bt}],Zt=function(){var e=m((function(e){return e.user})).isAuth;return Object(Ke.jsxs)(C.d,{children:[e&&Ht.map((function(e){var t=e.path,n=e.Component;return Object(Ke.jsx)(C.b,{path:t,component:n,exact:!0},t)})),Jt.map((function(e){var t=e.path,n=e.Component;return Object(Ke.jsx)(C.b,{path:t,component:n,exact:!0},t)})),Object(Ke.jsx)(C.a,{to:w})]})},qt=function(){var e=m((function(e){return e.user})).loading,t=m((function(e){return e.devices})).limit,n=m((function(e){return e.types})).selectedType,r=m((function(e){return e.brands})).selectedBrand,a=$e(),c=a.checkAndFetchCart,i=a.setCurrentPage,u=a.fetchDevices,s=a.fetchTypes,l=a.fetchBrands;return Object(o.useEffect)((function(){s(),l(),u(null,null,1,t),c()}),[]),Object(o.useEffect)((function(){i(1)}),[n,r]),e?Object(Ke.jsx)(d.a,{color:"primary",size:70,sx:{position:"absolute",top:"50%",left:"50%"}}):Object(Ke.jsxs)("div",{children:[Object(Ke.jsx)(ct,{}),Object(Ke.jsx)(Zt,{})]})},$t=n(119),Kt={brands:[],selectedBrand:{}},Qt={count:1,rows:[],device:{},currentPage:1,limit:10},Xt={types:[],selectedType:{}},en={isAuth:!1,user:{},userCart:{},loading:!0,error:""},tn=Object(L.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.SET_AUTH:return Object(G.a)(Object(G.a)({},e),{},{isAuth:t.payload});case Z.SET_USER:return Object(G.a)(Object(G.a)({},e),{},{user:t.payload});case Z.SET_USER_CART:return Object(G.a)(Object(G.a)({},e),{},{userCart:t.payload});case Z.SET_LOADING:return Object(G.a)(Object(G.a)({},e),{},{loading:t.payload});case Z.SET_USER_ERROR:return Object(G.a)(Object(G.a)({},e),{},{error:t.payload});default:return e}},types:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.SET_TYPES:return Object(G.a)(Object(G.a)({},e),{},{types:t.payload});case ne.SET_SELECTED_TYPE:return Object(G.a)(Object(G.a)({},e),{},{selectedType:t.payload});default:return e}},brands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.SET_BRANDS:return Object(G.a)(Object(G.a)({},e),{},{brands:t.payload});case Oe.SET_SELECTED_BRAND:return Object(G.a)(Object(G.a)({},e),{},{selectedBrand:t.payload});default:return e}},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.SET_DEVICES:return Object(G.a)(Object(G.a)({},e),{},{count:t.payload.count,rows:t.payload.rows});case _e.SET_CURRENT_PAGE:return Object(G.a)(Object(G.a)({},e),{},{currentPage:t.payload});case _e.SET_DEVICE:return Object(G.a)(Object(G.a)({},e),{},{device:t.payload});default:return e}}}),nn=Object(L.d)(tn,Object(L.a)($t.a));l.a.render(Object(Ke.jsx)(u.a.StrictMode,{children:Object(Ke.jsx)(O.a,{children:Object(Ke.jsx)(v.a,{store:nn,children:Object(Ke.jsx)(qt,{})})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.03a7de41.chunk.js.map